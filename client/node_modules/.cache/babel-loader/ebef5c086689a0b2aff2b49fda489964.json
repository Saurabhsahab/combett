{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DOMObserver = require(\"./DOMObserver\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar editOnSelect = require(\"./editOnSelect\");\n\nvar getContentEditableContainer = require(\"./getContentEditableContainer\");\n\nvar getDraftEditorSelection = require(\"./getDraftEditorSelection\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE');\n/**\n * Millisecond delay to allow `compositionstart` to fire again upon\n * `compositionend`.\n *\n * This is used for Korean input to ensure that typing can continue without\n * the editor trying to render too quickly. More specifically, Safari 7.1+\n * triggers `compositionstart` a little slower than Chrome/FF, which\n * leads to composed characters being resolved and re-render occurring\n * sooner than we want.\n */\n\nvar RESOLVE_DELAY = 20;\n/**\n * A handful of variables used to track the current composition and its\n * resolution status. These exist at the module level because it is not\n * possible to have compositions occurring in multiple editors simultaneously,\n * and it simplifies state management with respect to the DraftEditor component.\n */\n\nvar resolved = false;\nvar stillComposing = false;\nvar domObserver = null;\n\nfunction startDOMObserver(editor) {\n  if (!domObserver) {\n    domObserver = new DOMObserver(getContentEditableContainer(editor));\n    domObserver.start();\n  }\n}\n\nvar DraftEditorCompositionHandler = {\n  /**\n   * A `compositionstart` event has fired while we're still in composition\n   * mode. Continue the current composition session to prevent a re-render.\n   */\n  onCompositionStart: function onCompositionStart(editor) {\n    stillComposing = true;\n    startDOMObserver(editor);\n  },\n\n  /**\n   * Attempt to end the current composition session.\n   *\n   * Defer handling because browser will still insert the chars into active\n   * element after `compositionend`. If a `compositionstart` event fires\n   * before `resolveComposition` executes, our composition session will\n   * continue.\n   *\n   * The `resolved` flag is useful because certain IME interfaces fire the\n   * `compositionend` event multiple times, thus queueing up multiple attempts\n   * at handling the composition. Since handling the same composition event\n   * twice could break the DOM, we only use the first event. Example: Arabic\n   * Google Input Tools on Windows 8.1 fires `compositionend` three times.\n   */\n  onCompositionEnd: function onCompositionEnd(editor) {\n    resolved = false;\n    stillComposing = false;\n    setTimeout(function () {\n      if (!resolved) {\n        DraftEditorCompositionHandler.resolveComposition(editor);\n      }\n    }, RESOLVE_DELAY);\n  },\n  onSelect: editOnSelect,\n\n  /**\n   * In Safari, keydown events may fire when committing compositions. If\n   * the arrow keys are used to commit, prevent default so that the cursor\n   * doesn't move, otherwise it will jump back noticeably on re-render.\n   */\n  onKeyDown: function onKeyDown(editor, e) {\n    if (!stillComposing) {\n      // If a keydown event is received after compositionend but before the\n      // 20ms timer expires (ex: type option-E then backspace, or type A then\n      // backspace in 2-Set Korean), we should immediately resolve the\n      // composition and reinterpret the key press in edit mode.\n      DraftEditorCompositionHandler.resolveComposition(editor);\n\n      editor._onKeyDown(e);\n\n      return;\n    }\n\n    if (e.which === Keys.RIGHT || e.which === Keys.LEFT) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Keypress events may fire when committing compositions. In Firefox,\n   * pressing RETURN commits the composition and inserts extra newline\n   * characters that we do not want. `preventDefault` allows the composition\n   * to be committed while preventing the extra characters.\n   */\n  onKeyPress: function onKeyPress(_editor, e) {\n    if (e.which === Keys.RETURN) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Attempt to insert composed characters into the document.\n   *\n   * If we are still in a composition session, do nothing. Otherwise, insert\n   * the characters into the document and terminate the composition session.\n   *\n   * If no characters were composed -- for instance, the user\n   * deleted all composed characters and committed nothing new --\n   * force a re-render. We also re-render when the composition occurs\n   * at the beginning of a leaf, to ensure that if the browser has\n   * created a new text node for the composition, we will discard it.\n   *\n   * Resetting innerHTML will move focus to the beginning of the editor,\n   * so we update to force it back to the correct place.\n   */\n  resolveComposition: function resolveComposition(editor) {\n    if (stillComposing) {\n      return;\n    }\n\n    var mutations = nullthrows(domObserver).stopAndFlushMutations();\n    domObserver = null;\n    resolved = true;\n    var editorState = EditorState.set(editor._latestEditorState, {\n      inCompositionMode: false\n    });\n    editor.exitCurrentMode();\n\n    if (!mutations.size) {\n      editor.update(editorState);\n      return;\n    } // TODO, check if Facebook still needs this flag or if it could be removed.\n    // Since there can be multiple mutations providing a `composedChars` doesn't\n    // apply well on this new model.\n    // if (\n    //   gkx('draft_handlebeforeinput_composed_text') &&\n    //   editor.props.handleBeforeInput &&\n    //   isEventHandled(\n    //     editor.props.handleBeforeInput(\n    //       composedChars,\n    //       editorState,\n    //       event.timeStamp,\n    //     ),\n    //   )\n    // ) {\n    //   return;\n    // }\n\n\n    var contentState = editorState.getCurrentContent();\n    mutations.forEach(function (composedChars, offsetKey) {\n      var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),\n          blockKey = _DraftOffsetKey$decod.blockKey,\n          decoratorKey = _DraftOffsetKey$decod.decoratorKey,\n          leafKey = _DraftOffsetKey$decod.leafKey;\n\n      var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),\n          start = _editorState$getBlock.start,\n          end = _editorState$getBlock.end;\n\n      var replacementRange = editorState.getSelection().merge({\n        anchorKey: blockKey,\n        focusKey: blockKey,\n        anchorOffset: start,\n        focusOffset: end,\n        isBackward: false\n      });\n      var entityKey = getEntityKeyForSelection(contentState, replacementRange);\n      var currentStyle = contentState.getBlockForKey(blockKey).getInlineStyleAt(start);\n      contentState = DraftModifier.replaceText(contentState, replacementRange, composedChars, currentStyle, entityKey); // We need to update the editorState so the leaf node ranges are properly\n      // updated and multiple mutations are correctly applied.\n\n      editorState = EditorState.set(editorState, {\n        currentContent: contentState\n      });\n    }); // When we apply the text changes to the ContentState, the selection always\n    // goes to the end of the field, but it should just stay where it is\n    // after compositionEnd.\n\n    var documentSelection = getDraftEditorSelection(editorState, getContentEditableContainer(editor));\n    var compositionEndSelectionState = documentSelection.selectionState;\n    editor.restoreEditorDOM(); // See:\n    // - https://github.com/facebook/draft-js/issues/2093\n    // - https://github.com/facebook/draft-js/pull/2094\n    // Apply this fix only in IE for now. We can test it in\n    // other browsers in the future to ensure no regressions\n\n    var editorStateWithUpdatedSelection = isIE ? EditorState.forceSelection(editorState, compositionEndSelectionState) : EditorState.acceptSelection(editorState, compositionEndSelectionState);\n    editor.update(EditorState.push(editorStateWithUpdatedSelection, contentState, 'insert-characters'));\n  }\n};\nmodule.exports = DraftEditorCompositionHandler;","map":{"version":3,"names":["DOMObserver","require","DraftModifier","DraftOffsetKey","EditorState","Keys","UserAgent","editOnSelect","getContentEditableContainer","getDraftEditorSelection","getEntityKeyForSelection","nullthrows","isIE","isBrowser","RESOLVE_DELAY","resolved","stillComposing","domObserver","startDOMObserver","editor","start","DraftEditorCompositionHandler","onCompositionStart","onCompositionEnd","setTimeout","resolveComposition","onSelect","onKeyDown","e","_onKeyDown","which","RIGHT","LEFT","preventDefault","onKeyPress","_editor","RETURN","mutations","stopAndFlushMutations","editorState","set","_latestEditorState","inCompositionMode","exitCurrentMode","size","update","contentState","getCurrentContent","forEach","composedChars","offsetKey","_DraftOffsetKey$decod","decode","blockKey","decoratorKey","leafKey","_editorState$getBlock","getBlockTree","getIn","end","replacementRange","getSelection","merge","anchorKey","focusKey","anchorOffset","focusOffset","isBackward","entityKey","currentStyle","getBlockForKey","getInlineStyleAt","replaceText","currentContent","documentSelection","compositionEndSelectionState","selectionState","restoreEditorDOM","editorStateWithUpdatedSelection","forceSelection","acceptSelection","push","module","exports"],"sources":["/home/sudhanshu/Documents/combett/node_modules/draft-js/lib/DraftEditorCompositionHandler.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DOMObserver = require(\"./DOMObserver\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar editOnSelect = require(\"./editOnSelect\");\n\nvar getContentEditableContainer = require(\"./getContentEditableContainer\");\n\nvar getDraftEditorSelection = require(\"./getDraftEditorSelection\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE');\n/**\n * Millisecond delay to allow `compositionstart` to fire again upon\n * `compositionend`.\n *\n * This is used for Korean input to ensure that typing can continue without\n * the editor trying to render too quickly. More specifically, Safari 7.1+\n * triggers `compositionstart` a little slower than Chrome/FF, which\n * leads to composed characters being resolved and re-render occurring\n * sooner than we want.\n */\n\nvar RESOLVE_DELAY = 20;\n/**\n * A handful of variables used to track the current composition and its\n * resolution status. These exist at the module level because it is not\n * possible to have compositions occurring in multiple editors simultaneously,\n * and it simplifies state management with respect to the DraftEditor component.\n */\n\nvar resolved = false;\nvar stillComposing = false;\nvar domObserver = null;\n\nfunction startDOMObserver(editor) {\n  if (!domObserver) {\n    domObserver = new DOMObserver(getContentEditableContainer(editor));\n    domObserver.start();\n  }\n}\n\nvar DraftEditorCompositionHandler = {\n  /**\n   * A `compositionstart` event has fired while we're still in composition\n   * mode. Continue the current composition session to prevent a re-render.\n   */\n  onCompositionStart: function onCompositionStart(editor) {\n    stillComposing = true;\n    startDOMObserver(editor);\n  },\n\n  /**\n   * Attempt to end the current composition session.\n   *\n   * Defer handling because browser will still insert the chars into active\n   * element after `compositionend`. If a `compositionstart` event fires\n   * before `resolveComposition` executes, our composition session will\n   * continue.\n   *\n   * The `resolved` flag is useful because certain IME interfaces fire the\n   * `compositionend` event multiple times, thus queueing up multiple attempts\n   * at handling the composition. Since handling the same composition event\n   * twice could break the DOM, we only use the first event. Example: Arabic\n   * Google Input Tools on Windows 8.1 fires `compositionend` three times.\n   */\n  onCompositionEnd: function onCompositionEnd(editor) {\n    resolved = false;\n    stillComposing = false;\n    setTimeout(function () {\n      if (!resolved) {\n        DraftEditorCompositionHandler.resolveComposition(editor);\n      }\n    }, RESOLVE_DELAY);\n  },\n  onSelect: editOnSelect,\n\n  /**\n   * In Safari, keydown events may fire when committing compositions. If\n   * the arrow keys are used to commit, prevent default so that the cursor\n   * doesn't move, otherwise it will jump back noticeably on re-render.\n   */\n  onKeyDown: function onKeyDown(editor, e) {\n    if (!stillComposing) {\n      // If a keydown event is received after compositionend but before the\n      // 20ms timer expires (ex: type option-E then backspace, or type A then\n      // backspace in 2-Set Korean), we should immediately resolve the\n      // composition and reinterpret the key press in edit mode.\n      DraftEditorCompositionHandler.resolveComposition(editor);\n\n      editor._onKeyDown(e);\n\n      return;\n    }\n\n    if (e.which === Keys.RIGHT || e.which === Keys.LEFT) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Keypress events may fire when committing compositions. In Firefox,\n   * pressing RETURN commits the composition and inserts extra newline\n   * characters that we do not want. `preventDefault` allows the composition\n   * to be committed while preventing the extra characters.\n   */\n  onKeyPress: function onKeyPress(_editor, e) {\n    if (e.which === Keys.RETURN) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Attempt to insert composed characters into the document.\n   *\n   * If we are still in a composition session, do nothing. Otherwise, insert\n   * the characters into the document and terminate the composition session.\n   *\n   * If no characters were composed -- for instance, the user\n   * deleted all composed characters and committed nothing new --\n   * force a re-render. We also re-render when the composition occurs\n   * at the beginning of a leaf, to ensure that if the browser has\n   * created a new text node for the composition, we will discard it.\n   *\n   * Resetting innerHTML will move focus to the beginning of the editor,\n   * so we update to force it back to the correct place.\n   */\n  resolveComposition: function resolveComposition(editor) {\n    if (stillComposing) {\n      return;\n    }\n\n    var mutations = nullthrows(domObserver).stopAndFlushMutations();\n    domObserver = null;\n    resolved = true;\n    var editorState = EditorState.set(editor._latestEditorState, {\n      inCompositionMode: false\n    });\n    editor.exitCurrentMode();\n\n    if (!mutations.size) {\n      editor.update(editorState);\n      return;\n    } // TODO, check if Facebook still needs this flag or if it could be removed.\n    // Since there can be multiple mutations providing a `composedChars` doesn't\n    // apply well on this new model.\n    // if (\n    //   gkx('draft_handlebeforeinput_composed_text') &&\n    //   editor.props.handleBeforeInput &&\n    //   isEventHandled(\n    //     editor.props.handleBeforeInput(\n    //       composedChars,\n    //       editorState,\n    //       event.timeStamp,\n    //     ),\n    //   )\n    // ) {\n    //   return;\n    // }\n\n\n    var contentState = editorState.getCurrentContent();\n    mutations.forEach(function (composedChars, offsetKey) {\n      var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),\n          blockKey = _DraftOffsetKey$decod.blockKey,\n          decoratorKey = _DraftOffsetKey$decod.decoratorKey,\n          leafKey = _DraftOffsetKey$decod.leafKey;\n\n      var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),\n          start = _editorState$getBlock.start,\n          end = _editorState$getBlock.end;\n\n      var replacementRange = editorState.getSelection().merge({\n        anchorKey: blockKey,\n        focusKey: blockKey,\n        anchorOffset: start,\n        focusOffset: end,\n        isBackward: false\n      });\n      var entityKey = getEntityKeyForSelection(contentState, replacementRange);\n      var currentStyle = contentState.getBlockForKey(blockKey).getInlineStyleAt(start);\n      contentState = DraftModifier.replaceText(contentState, replacementRange, composedChars, currentStyle, entityKey); // We need to update the editorState so the leaf node ranges are properly\n      // updated and multiple mutations are correctly applied.\n\n      editorState = EditorState.set(editorState, {\n        currentContent: contentState\n      });\n    }); // When we apply the text changes to the ContentState, the selection always\n    // goes to the end of the field, but it should just stay where it is\n    // after compositionEnd.\n\n    var documentSelection = getDraftEditorSelection(editorState, getContentEditableContainer(editor));\n    var compositionEndSelectionState = documentSelection.selectionState;\n    editor.restoreEditorDOM(); // See:\n    // - https://github.com/facebook/draft-js/issues/2093\n    // - https://github.com/facebook/draft-js/pull/2094\n    // Apply this fix only in IE for now. We can test it in\n    // other browsers in the future to ensure no regressions\n\n    var editorStateWithUpdatedSelection = isIE ? EditorState.forceSelection(editorState, compositionEndSelectionState) : EditorState.acceptSelection(editorState, compositionEndSelectionState);\n    editor.update(EditorState.push(editorStateWithUpdatedSelection, contentState, 'insert-characters'));\n  }\n};\nmodule.exports = DraftEditorCompositionHandler;"],"mappings":"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"},"metadata":{},"sourceType":"script"}